import{Q as p,a as g,b as _}from"./index.d68046fc.js";import{Q as w,a as h}from"./QTable.9efa9f07.js";import{u as k}from"./index.9bd0e330.js";import{_ as y,a as C,$ as T,C as B,E as o,F as s,G as l,N as b,M,I as f,H as O}from"./index.48a5f887.js";import{u as Q}from"./index.2ec6e11e.js";import"./QBtn.827b54ce.js";import"./scroll.52a63b11.js";import"./axios.0ed95acd.js";const x={setup(){const n=[{name:"number",required:!0,label:"#",align:"center",field:e=>e.num,format:e=>`${e}`,sortable:!0},{name:"product",label:"Product",field:"stg",sortable:!0,format:e=>e.join(", ")},{name:"date",label:"Date",field:"initiated_at",sortable:!0,format:e=>new Date(e).toISOString().split("T").join(", ").slice(0,-8)},{name:"client",label:"Client",field:"client_name",sortable:!0},{name:"state",label:"State",field:"state",sortable:!0},{name:"contact",label:"Contact",field:"person_phone",sortable:!1,format:e=>`+${e}`}],i=new Map([["init",{label:"Initial",color:"red"}],["finish",{label:"Finished",color:"green"}],["progress",{label:"WIP",color:"orange"}]]),a=k();C(a.dispatchGetOrders);const{orders:t}=T(a),c=B(),d=Q();function r(e,m){const u=`/orders/${m.id}`;d.addNewTab({name:u,label:`Order #${m.num}`,closable:!0}),c.push(u)}return{columns:n,orders:t,stateToBadgeMap:i,onRowClick:r}}};function N(n,i,a,t,c,d){return o(),s(p,{class:"q-pa-md row justify-center items-start"},{default:l(()=>[t.orders.length===0?(o(),s(g,{key:0,indeterminate:"",size:"90px",thickness:.2,color:"indigo","center-color":"grey-4","track-color":"grey-2"})):b("",!0),t.orders.length?(o(),s(w,{key:1,class:"col sticky-header-column-table",title:"Orders",rows:t.orders,columns:t.columns,"row-key":"id",onRowClick:M(t.onRowClick,["stop"])},{"body-cell-state":l(r=>[f(h,{props:r},{default:l(()=>[O("div",null,[f(_,{color:t.stateToBadgeMap.get(r.row.state).color,label:t.stateToBadgeMap.get(r.row.state).label},null,8,["color","label"])])]),_:2},1032,["props"])]),_:1},8,["rows","columns","onRowClick"])):b("",!0)]),_:1})}var D=y(x,[["render",N]]);export{D as default};
