import{A as u,Q as _,a as f,b}from"./index.d68046fc.js";import{Q as p,a as y}from"./QTable.9efa9f07.js";import{Z as M,r as h,_ as k,a as w,$ as B,E as n,F as s,G as i,N as d,I as g,H as P}from"./index.48a5f887.js";import"./QBtn.827b54ce.js";import"./scroll.52a63b11.js";import"./axios.0ed95acd.js";const Q=M("meetingsStore",()=>{const a=h([]);function o(e){a.value=e}async function l(){try{const{status:e,data:t}=await u.meetings.getMeetings();e===200&&o(t)}catch{}return null}return{meetings:a,initMeetings:o,dispatchGetMeetings:l}});const T={setup(){const a=[{name:"client",align:"left",label:"Client",field:"client_name",sortable:!0},{name:"city",label:"City",field:"client_city",sortable:!0},{name:"bank_name",label:"Bank",field:"bank_name",sortable:!0},{name:"product",label:"Product",field:"stg",sortable:!0,format:t=>t.join(", ")},{name:"meeting_state",label:"State",field:"meeting_state",sortable:!0,format:t=>t},{name:"meeting_date",label:"Date",field:"meeting_date",sortable:!0,format:t=>new Date(t).toISOString().split("T").join(", ").slice(0,-8)},{name:"meeting_place",label:"Place",field:"meeting_place",sortable:!0},{name:"person_phone",label:"Contact",field:"person_phone",sortable:!1,format:t=>`+${t}`}],o=new Map([["error",{label:"Error",color:"red"}],["process",{label:"In progress",color:"orange"}],["upload_docs",{label:"Upload docs",color:"blue"}],["reupload_fls",{label:"Reupload files",color:"teal"}]]),l=Q();w(l.dispatchGetMeetings);const{meetings:e}=B(l);return{columns:a,meetings:e,stateToBadgeMap:o}}};function v(a,o,l,e,t,x){return n(),s(_,{class:"q-pa-md row justify-center items-start"},{default:i(()=>[e.meetings.length===0?(n(),s(f,{key:0,indeterminate:"",size:"90px",thickness:.2,color:"indigo","center-color":"grey-4","track-color":"grey-2"})):d("",!0),e.meetings.length?(n(),s(p,{key:1,class:"col sticky-header-column-table",title:"Meetings",rows:e.meetings,columns:e.columns,"row-key":"id"},{"body-cell-meeting_state":i(r=>[g(y,{props:r},{default:i(()=>{var c,m;return[P("div",null,[g(b,{color:(c=e.stateToBadgeMap.get(r.row.meeting_state))==null?void 0:c.color,label:(m=e.stateToBadgeMap.get(r.row.meeting_state))==null?void 0:m.label},null,8,["color","label"])])]}),_:2},1032,["props"])]),_:1},8,["rows","columns"])):d("",!0)]),_:1})}var V=k(T,[["render",v]]);export{V as default};
