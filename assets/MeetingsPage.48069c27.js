import{Q as u,a as _,b as f}from"./QPage.7818dab3.js";import{Q as b,a as p}from"./QTable.7630496f.js";import{Y as y,r as M,_ as h,a as k,Z as w,E as n,F as s,G as i,M as d,H as g,$ as B}from"./index.e593c5a3.js";import{A as P}from"./index.ddbd5591.js";import"./QBtn.1bbc7c36.js";import"./axios.0ed95acd.js";const Q=y("meetingsStore",()=>{const a=M([]);function o(e){a.value=e}async function r(){try{const{status:e,data:t}=await P.meetings.getMeetings();e===200&&o(t)}catch{}return null}return{meetings:a,initMeetings:o,dispatchGetMeetings:r}});const T={setup(){const a=[{name:"client",align:"left",label:"Client",field:"client_name",sortable:!0},{name:"city",label:"City",field:"client_city",sortable:!0},{name:"bank_name",label:"Bank",field:"bank_name",sortable:!0},{name:"product",label:"Product",field:"stg",sortable:!0,format:t=>t.join(", ")},{name:"meeting_state",label:"State",field:"meeting_state",sortable:!0,format:t=>t},{name:"meeting_date",label:"Date",field:"meeting_date",sortable:!0,format:t=>new Date(t).toISOString().split("T").join(", ").slice(0,-8)},{name:"meeting_place",label:"Place",field:"meeting_place",sortable:!0},{name:"person_phone",label:"Contact",field:"person_phone",sortable:!1,format:t=>`+${t}`}],o=new Map([["error",{label:"Error",color:"red"}],["process",{label:"In progress",color:"orange"}],["upload_docs",{label:"Upload docs",color:"blue"}],["reupload_fls",{label:"Reupload files",color:"teal"}]]),r=Q();k(r.dispatchGetMeetings);const{meetings:e}=w(r);return{columns:a,meetings:e,stateToBadgeMap:o}}};function v(a,o,r,e,t,x){return n(),s(u,{class:"q-pa-md row justify-center items-start"},{default:i(()=>[e.meetings.length===0?(n(),s(_,{key:0,indeterminate:"",size:"90px",thickness:.2,color:"indigo","center-color":"grey-4","track-color":"grey-2"})):d("",!0),e.meetings.length?(n(),s(b,{key:1,class:"col sticky-header-column-table",title:"Meetings",rows:e.meetings,columns:e.columns,"row-key":"id"},{"body-cell-meeting_state":i(l=>[g(p,{props:l},{default:i(()=>{var c,m;return[B("div",null,[g(f,{color:(c=e.stateToBadgeMap.get(l.row.meeting_state))==null?void 0:c.color,label:(m=e.stateToBadgeMap.get(l.row.meeting_state))==null?void 0:m.label},null,8,["color","label"])])]}),_:2},1032,["props"])]),_:1},8,["rows","columns"])):d("",!0)]),_:1})}var V=h(T,[["render",v]]);export{V as default};
